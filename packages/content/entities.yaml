# Entity type definitions â€” M4: Data-Driven Entities
# M7: Resource type definitions for display (name, order) in HUD and elsewhere.
#
# This file is the source of truth for entity properties. The engine loads it
# at startup and computes a deterministic content hash (canonicalized JSON,
# xxh3-64) for version pinning.
#
# Rules:
# - entity_type_id is the YAML key (e.g. "worker"). Never recycle IDs.
# - All numeric values are floats. Add new fields with serde defaults so
#   existing definitions don't break.

# M7: Resource types (id = key). Display order and name for HUD; theme-agnostic.
resource_types:
  food:
    display_name: Food
    order: 0
  minerals:
    display_name: Minerals
    order: 1
  energy:
    display_name: Energy
    order: 2

entity_types:
  theta:
    speed: 0.0
    stop_radius: 0.75
    mass: 500.0
    health: 100.0
    resource_node:
      resource_type: energy
      collection_mode: proximity
      min_effective_distance: 350.0
      max_effective_distance: 800.0

  planet_blue:
    speed: 0.0
    stop_radius: 1
    mass: 500.0
    health: 100.0
  
  star_yellow:
    speed: 0.0
    stop_radius: 1
    mass: 500.0
    health: 100.0
    resource_node:
      resource_type: energy
      collection_mode: proximity
      min_effective_distance: 200.0
      max_effective_distance: 700.0

  minerals:
    speed: 0.0
    stop_radius: 1
    mass: 500.0
    health: 100.0
    resource_node:
      resource_type: minerals
      collection_mode: transport
      min_effective_distance: 0.0
      max_effective_distance: 180.0

  collector_solar:
    speed: 20.0
    stop_radius: 1
    mass: 500.0
    health: 100.0
    collector:
      collects: [energy]
      proximity_rate_per_second: 12.0
      transport_rate_per_second: 0.0
      carry_capacity: 0.0


  worker:
    speed: 90.0
    stop_radius: 0.75
    mass: 1.0
    health: 100.0
    collector:
      collects: [minerals]
      transport_rate_per_second: 10.0
      carry_capacity: 120.0
      deposit_entity_types: [processor]

  habitat:
    speed: 70.0
    stop_radius: 0.5
    mass: 4.0
    health: 200.0

  processor:
    speed: 60.0
    stop_radius: 0.5
    mass: 7.0
    health: 150.0
    refinery:
      accepts: [minerals]

  factory:
    speed: 60.0
    stop_radius: 0.5
    mass: 7.0
    health: 150.0

  scout:
    speed: 140.0
    stop_radius: 0.5
    mass: 0.6
    health: 60.0
